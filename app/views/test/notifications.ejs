<!DOCTYPE html>
<html lang="en-US">
  <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">

	<title>Feed</title>
	<link rel="icon" href="/favicon.png" type="image/png">
	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>	
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.3.5/bootstrap-select.min.css">

	<style type="text/css">
	    body {
	        padding-top: 60px;
	        padding-bottom: 40px;
	    }
		.panel {
		  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, .05);
		          box-shadow: 0 1px 2px rgba(0, 0, 0, .05);
		}
		.panel-default > .panel-heading {
		  background-image: -webkit-linear-gradient(top, #f5f5f5 0%, #e8e8e8 100%);
		  background-image:      -o-linear-gradient(top, #f5f5f5 0%, #e8e8e8 100%);
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#f5f5f5), to(#e8e8e8));
		  background-image:         linear-gradient(to bottom, #f5f5f5 0%, #e8e8e8 100%);
		  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff5f5f5', endColorstr='#ffe8e8e8', GradientType=0);
		  background-repeat: repeat-x;
		}
		.panel-primary > .panel-heading {
		  background-image: -webkit-linear-gradient(top, #337ab7 0%, #2e6da4 100%);
		  background-image:      -o-linear-gradient(top, #337ab7 0%, #2e6da4 100%);
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#337ab7), to(#2e6da4));
		  background-image:         linear-gradient(to bottom, #337ab7 0%, #2e6da4 100%);
		  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff337ab7', endColorstr='#ff2e6da4', GradientType=0);
		  background-repeat: repeat-x;
		}
		.panel-success > .panel-heading {
		  background-image: -webkit-linear-gradient(top, #dff0d8 0%, #d0e9c6 100%);
		  background-image:      -o-linear-gradient(top, #dff0d8 0%, #d0e9c6 100%);
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#dff0d8), to(#d0e9c6));
		  background-image:         linear-gradient(to bottom, #dff0d8 0%, #d0e9c6 100%);
		  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffdff0d8', endColorstr='#ffd0e9c6', GradientType=0);
		  background-repeat: repeat-x;
		}
		.panel-info > .panel-heading {
		  background-image: -webkit-linear-gradient(top, #d9edf7 0%, #c4e3f3 100%);
		  background-image:      -o-linear-gradient(top, #d9edf7 0%, #c4e3f3 100%);
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#d9edf7), to(#c4e3f3));
		  background-image:         linear-gradient(to bottom, #d9edf7 0%, #c4e3f3 100%);
		  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffd9edf7', endColorstr='#ffc4e3f3', GradientType=0);
		  background-repeat: repeat-x;
		}
		.panel-warning > .panel-heading {
		  background-image: -webkit-linear-gradient(top, #fcf8e3 0%, #faf2cc 100%);
		  background-image:      -o-linear-gradient(top, #fcf8e3 0%, #faf2cc 100%);
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#fcf8e3), to(#faf2cc));
		  background-image:         linear-gradient(to bottom, #fcf8e3 0%, #faf2cc 100%);
		  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fffcf8e3', endColorstr='#fffaf2cc', GradientType=0);
		  background-repeat: repeat-x;
		}
		.panel-danger > .panel-heading {
		  background-image: -webkit-linear-gradient(top, #f2dede 0%, #ebcccc 100%);
		  background-image:      -o-linear-gradient(top, #f2dede 0%, #ebcccc 100%);
		  background-image: -webkit-gradient(linear, left top, left bottom, from(#f2dede), to(#ebcccc));
		  background-image:         linear-gradient(to bottom, #f2dede 0%, #ebcccc 100%);
		  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff2dede', endColorstr='#ffebcccc', GradientType=0);
		  background-repeat: repeat-x;
		}
		.panel-green {
		    border-color: #5cb85c;
		}

		.panel-green .panel-heading {
		    border-color: #5cb85c;
		    color: #fff;
		    background-color: #5cb85c;
		}

		.panel-green a {
		    color: #5cb85c;
		}

		.panel-green a:hover {
		    color: #3d8b3d;
		}

		.panel-red {
		    border-color: #d9534f;
		}

		.panel-red .panel-heading {
		    border-color: #d9534f;
		    color: #fff;
		    background-color: #d9534f;
		}

		.panel-red a {
		    color: #d9534f;
		}

		.panel-red a:hover {
		    color: #b52b27;
		}

		.panel-yellow {
		    border-color: #f0ad4e;
		}

		.panel-yellow .panel-heading {
		    border-color: #f0ad4e;
		    color: #fff;
		    background-color: #f0ad4e;
		}

		.panel-yellow a {
		    color: #f0ad4e;
		}

		.panel-yellow a:hover {
		    color: #df8a13;
		}
	</style>
</head>
<body>		
	
<div class='container'>
	<br/>
	
	<div class='dwell'>
		<table>
			<tr>
				<td width='100'><img src='/img/logo.png' width=64 /></td>
				<td><h2>OJO Publisher</h2></td>
			</tr>
		<table>
	</div>
	<hr>
	
<h2>Notifications - Daily Feed: 2016-05-15</h2>
	

<div class='container-fluid'>
	<br/>
	<div class='row'>
	 <a href='/test/feed'>View Feed</a>
	</div>
	<br/>
	<div class='row' id='results'> </div>
</div>
</div>
<script>
$.getJSON("/test/feed", function(data) {
	console.log("got data", data)
	html = ""
	for( var f in data.features ) {
		var feat = data.features[f]
		var type = feat.properties.msgType
		var dt	 = feat.properties.published
		
		var color = 'red'
		if( type == "Warning") color = 'yellow'
		
        html += "<div class='col-lg-3 col-md-6'>"
		html += "<div class='panel panel-" + color +"'><div class='panel-heading'><div class='row'><div class='pull-left'<i>&nbsp;"
		html += feat.properties.published
		html += "</i></div><div class='col-xs-9 text-right'><div>"
		html += type
		html += "!</div></div></div></div>"
        html += "<a href='/test/r07?date="+ dt +"'>"
        html += "<div class='panel-footer'>"
        html += "<span class='pull-left'>"
		html += feat.properties.title + "<br/><br/>"
		html += feat.properties.areaDesc
		html += "</span><span class='pull-right'><i class='fa fa-arrow-circle-right'></i></span>"
        html += "<div class='clearfix'></div></div></a></div></div>"
	}
	$('#results').html(html)
})
</script>
</body>
</html>